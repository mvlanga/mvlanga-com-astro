---
import { Button } from "@/components/common/Button.tsx";

interface Props {
	blogPostSlug: string;
}

const { blogPostSlug } = Astro.props;
---

<form id="add-blog-comment-form" class="sticky top-8 flex flex-col gap-4" method="POST">
    <p class="text-xl">New Comment</p>

    <hr class="border-neutral-800 mb-4"/>

    <input class="hidden" aria-hidden="true" type="text" name="blogPostSlug" value={blogPostSlug}>

    <label class="flex flex-col gap-2">
        <span>Name</span>
        <input class="bg-neutral-900 p-4 rounded-xl" type="text" name="name" />
    </label>

    <label class="flex flex-col gap-2">
        <span>Comment</span>
        <input class="bg-neutral-900 p-4 rounded-xl" type="text" name="comment" />
    </label>

    <Button client:visible level="secondary" text="Submit" />
</form>

<script>
const formElement = document.getElementById("add-blog-comment-form");

formElement.addEventListener("submit", (e) => {
    e.preventDefault();
    console.log(e)
    console.log(new FormData(formElement).entries());
})
</script>